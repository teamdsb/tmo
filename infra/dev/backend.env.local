# Copy this file to a local, untracked file (for example backend.env.local)
# and pass it to docker compose with:
# docker compose --env-file infra/dev/backend.env.local -f infra/dev/docker-compose.yml -f infra/dev/docker-compose.backend.yml up -d

# Use `mock` before miniapp audit pass; switch to `real` with official credentials for production.
IDENTITY_LOGIN_MODE=mock
IDENTITY_JWT_SECRET=dev-secret
IDENTITY_JWT_ISSUER=tmo-identity

# WeChat mini program credentials
IDENTITY_WEAPP_APPID=
IDENTITY_WEAPP_APPSECRET=

# Optional custom endpoints
# IDENTITY_WEAPP_TOKEN_URL=https://api.weixin.qq.com/cgi-bin/token
# IDENTITY_WEAPP_SESSION_URL=https://api.weixin.qq.com/sns/jscode2session
# IDENTITY_WEAPP_QRCODE_URL=https://api.weixin.qq.com/wxa/getwxacodeunlimit
# IDENTITY_WEAPP_PHONE_NUMBER_URL=https://api.weixin.qq.com/wxa/business/getuserphonenumber

# Alipay mini program credentials
IDENTITY_ALIPAY_APP_ID=
IDENTITY_ALIPAY_PRIVATE_KEY=
IDENTITY_ALIPAY_PUBLIC_KEY=

# Optional custom endpoints
# IDENTITY_ALIPAY_GATEWAY_URL=https://openapi.alipay.com/gateway.do
# IDENTITY_ALIPAY_SIGN_TYPE=RSA2

# Gateway image proxy (used by gateway catalog image rewrite)
GATEWAY_PUBLIC_BASE_URL=http://localhost:8080
GATEWAY_MEDIA_LOCAL_DIR=/data/media
GATEWAY_IMAGE_PROXY_ALLOWLIST=images.unsplash.com
GATEWAY_IMAGE_PROXY_TIMEOUT=10s
GATEWAY_IMAGE_PROXY_MAX_BYTES=8388608
GATEWAY_IMAGE_PROXY_CACHE_MAX_AGE_SECONDS=3600
